<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="css/styles.css" />
    <link rel="stylesheet" href="css/otp.css" />
    <link rel="stylesheet" href="css/otp.scss" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.css">
    <title>Bussu</title>
</head>

<body class="containerDiv">
    <div style="
        /* justify-content: center; */
        align-items: center;
        display: flex;
        flex-direction: column;
        width: 400px;
        height: 450px;
        border: 1px solid black;
        border-radius: 14px;
        margin: 0 auto;
        margin-top: 40px;
        padding: 10px;
        background-color: rgba(0, 0, 0, 0.9);
      ">
        <h1 style="font-size: 42px; font-weight: 600; color: #0986f4">BUSSU</h1>
        <div style="
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          color: white;
          padding: 30px 13px;
          border-radius: 14px;
        ">
            <p style="font-size: 20px; font-weight: 600">
                Enter OTP Sent To
                <%= msisdn %>
            </p>
            <h2>Resend In <span class="js-timeout">2:00</span></h2>
            <br />
            <form action="/otpverify" id="submitotp" method="POST" class="digit-group" data-group-name="digits" data-autosubmit="false" autocomplete="off">
                <input type="text" id="digit1" name="digit1" data-next="digit2" autofocus/>
                <input type="text" id="digit2" name="digit2" data-next="digit3" data-previous="digit1" />
                <input type="text" id="digit3" name="digit3" data-next="digit4" data-previous="digit2" />
                <input type="text" id="digit4" name="digit4" data-previous="digit3" onkeyup="submitOTP()" />
                <input type="hidden" name="msisdn" id="msisdn" value="<%= msisdn %>">
                <input type="hidden" name="networkType" id="networkType" value="<%= networkType %>">
                <input type="hidden" name="company" id="company" value="<%= company %>">
                <input type="hidden" name="id" id="id" value="<%= id %>">
                <br /> <br />
                <button class="btnNext" style="margin-left: 30%;" id="otpbtn" type="submit">
                        <a style="text-decoration: none;color:white;font-size: 18px;">Confirm</a></button>
            </form>
            <form action="/resendotp" id="resendotp" method="POST" style="display:hidden">
                <input type="hidden" name="msisdn" id="msisdn" value="<%= msisdn %>">
                <input type="hidden" name="networkType" id="networkType" value="<%= networkType %>">
                <input type="hidden" name="company" id="company" value="<%= company %>">
                <input type="hidden" name="id" id="id" value="<%= id %>">
            </form>
            <!-- <% if (locals.otperror) { %>
                <div>
                    <div>
                        <p style=" color: white;font-size: 20px;">
                            <span><i class="fa fa-times" aria-hidden="true"></i></span>
                            <%= otperror %>
                        </p>
                    </div>
                </div>
                <% } %> -->
        </div>
    </div>
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="js/custom.js"></script>

    <% if (locals.success) { %>

        <script>
            Swal.fire({
                position: 'center',
                icon: 'success',
                html: "<b><%= success %></b>",
                customClass: 'swal-wide',
                showConfirmationButton: true,
                timer: 1500
            })
        </script>

        <% } %>

            <% if (locals.otpsuccess) { %>

                <script>
                    Swal.fire({
                        position: 'center',
                        icon: 'success',
                        title: "<%= otpsuccess %>",
                        customClass: 'swal-otp',
                        showConfirmationButton: true,
                        timer: 1500
                    })
                </script>

                <% } %>
                    <% if (locals.otperror) { %>

                        <script>
                            Swal.fire({
                                position: 'center',
                                icon: 'error',
                                title: "Error",
                                text: " <%= otperror %>",
                                customClass: 'swal-otp',
                                showCancelButton: true,
                                showConfirmButton: false,
                                timer: 1500
                            })
                        </script>

                        <% } %>
</body>

</html>