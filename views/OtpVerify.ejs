<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="css/styles.css" />
    <link rel="stylesheet" href="css/otp.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.css">
    <title>Bussu</title>
</head>

<body class="containerDiv">
    <div style="
        /* justify-content: center; */
        align-items: center;
        display: flex;
        flex-direction: column;
        width: 400px;
        height: 450px;
        border: 1px solid black;
        border-radius: 14px;
        margin: 0 auto;
        margin-top: 40px;
        padding: 10px;
        background-color: rgba(0, 0, 0, 0.9);
      ">
        <h1 style="font-size: 42px; font-weight: 600; color: #0986f4">BUSSU</h1>
        <div style="
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          color: white;
          padding: 30px 13px;
          border-radius: 14px;
        ">
            <p style="font-size: 18px; font-weight: 600">
                Enter OTP Sent To
                <%= msisdn %>
            </p>
            <h3>Expires In <span class="js-timeout">2:00</span></h3>
            <br />
            <form action="/otpverify" id="submitotp" method="POST" style="display: flex;flex-direction: column;justify-content: center;align-items: center;">
                <div>
                    <input type="text" id='ist' name="ist" maxlength="1" onkeyup="clickEvent(this,'sec')" autofocus>
                    <input type="text" id="sec" name="sec" maxlength="1" onkeyup="clickEvent(this,'third')">
                    <input type="text" id="third" name="third" maxlength="1" onkeyup="clickEvent(this,'fourth')">
                    <input type="text" id="fourth" name="fourth" maxlength="1" onkeyup="submitOTP()">
                    <input type="hidden" name="msisdn" id="msisdn" value="<%= msisdn %>">
                    <input type="hidden" name="networkType" id="networkType" value="<%= networkType %>">
                    <input type="hidden" name="company" id="company" value="<%= company %>">
                    <input type="hidden" name="id" id="id" value="<%= id %>">
                </div>
                <br />
                <button class="btnNext" id="otpbtn" type="submit">
                        <a style="text-decoration: none;color:white;font-size: 18px;">Confirm</a></button>
            </form>

            <form action="/resendotp" id="resendotp" method="POST" style="display:hidden">
                <input type="hidden" name="msisdn" id="msisdn" value="<%= msisdn %>">
                <input type="hidden" name="networkType" id="networkType" value="<%= networkType %>">
            </form>
            <!-- <% if (locals.otperror) { %>
                <div>
                    <div>
                        <p style=" color: white;font-size: 20px;">
                            <span><i class="fa fa-times" aria-hidden="true"></i></span>
                            <%= otperror %>
                        </p>
                    </div>
                </div>
                <% } %> -->
        </div>
    </div>
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="js/custom.js"></script>

    <% if (locals.success) { %>

        <script>
            Swal.fire({
                position: 'center',
                icon: 'success',
                html: "<b><%= success %></b>",
                customClass: 'swal-wide',
                showConfirmationButton: true,
                timer: 4500
            })
        </script>

        <% } %>

            <% if (locals.otpsuccess) { %>

                <script>
                    Swal.fire({
                        position: 'center',
                        icon: 'success',
                        title: "<%= otpsuccess %>",
                        customClass: 'swal-otp',
                        showConfirmationButton: true,
                        timer: 2500
                    })
                </script>

                <% } %>
                    <% if (locals.otperror) { %>

                        <script>
                            Swal.fire({
                                position: 'center',
                                icon: 'error',
                                title: "Error",
                                text: " <%= otperror %>",
                                customClass: 'swal-otp',
                                showCancelButton: true,
                                showConfirmButton: false,
                                timer: 2500
                            })
                        </script>

                        <% } %>
</body>

</html>